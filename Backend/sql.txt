
CREATE TABLE `club` (
  `Cid` bigint NOT NULL,
  `Cname` varchar(45) NOT NULL,
  `Cpresident` varchar(45) NOT NULL,
  `Csummary` varchar(100) DEFAULT NULL,
  `Cdescription` varchar(500) NOT NULL,
  `Ctype` varchar(45) NOT NULL,
  `No_of_members` int DEFAULT NULL,
  `Cwebsite` varchar(100) NOT NULL,
  PRIMARY KEY (`Cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `admin` (
  `aid` bigint NOT NULL,
  `cid` bigint NOT NULL,
  PRIMARY KEY (`aid`),
  KEY `cid_idx` (`cid`),
  CONSTRAINT `aid` FOREIGN KEY (`aid`) REFERENCES `members` (`Uid`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `cid` FOREIGN KEY (`cid`) REFERENCES `club` (`Cid`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `event` (
  `Eid` bigint NOT NULL,
  `Ename` varchar(45) NOT NULL,
  `Edate` date NOT NULL,
  `Edescription` varchar(1000) NOT NULL,
  `Esummary` varchar(100) DEFAULT NULL,
  `Rlink` varchar(100) NOT NULL,
  `C_id` bigint NOT NULL,
  PRIMARY KEY (`Eid`),
  KEY `Cid_idx` (`C_id`),
  CONSTRAINT `C_id` FOREIGN KEY (`C_id`) REFERENCES `club` (`Cid`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `members` (
  `Uid` bigint NOT NULL,
  `Uname` varchar(45) NOT NULL,
  `Password` varchar(100) NOT NULL,
  PRIMARY KEY (`Uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `register` (
  `Uid` bigint NOT NULL,
  `Eid` bigint NOT NULL,
  `Rdata` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`Uid`,`Eid`),
  KEY `Eid_idx` (`Eid`),
  CONSTRAINT `Eid` FOREIGN KEY (`Eid`) REFERENCES `event` (`Eid`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `Uid` FOREIGN KEY (`Uid`) REFERENCES `members` (`Uid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
